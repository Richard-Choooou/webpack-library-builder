!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MyLibrary=t():e.MyLibrary=t()}(self,(function(){return function(){"use strict";var e={d:function(t,a){for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e=16){const t=["1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];let a="";for(let n=0;n<e;n++)a+=t[Math.floor(Math.random()*t.length)];return a}e.d(t,{default:function(){return i}});var i=new class extends class{constructor(){a(this,"isReady",!1),a(this,"listenReadyFn",new Set),a(this,"eventMap",{}),a(this,"callbackMap",{}),this.addEventListener("invokeCallback",(e=>{e.data&&e.data.callbackName&&(this.callbackMap[e.data.callbackName](e.data.callbackData),Reflect.deleteProperty(this.callbackMap,e.data.callbackName))})),this.addEventListener("onReady",(()=>this._setBridgeReady()))}canIUse(e,t){}getServiceInfo(e,t,a){return 3}onReady(e){this.isReady?e():this.listenReadyFn.add(e)}addEventListener(e,t){return this.eventMap[e]=this.eventMap[e]||new Set,this.eventMap[e].add(t),()=>{this.eventMap[e].delete(t)}}removeEventListener(e,t){this.eventMap[e]=this.eventMap[e]||new Set,this.eventMap[e].delete(t)}sendEventToClient(e,t,a,i){if(i){const r=n(32);this.callbackMap[r]=i,this.clientInterfaceAdapter(e,t,a,r)}else if(a)if("[object Object]"===Object.prototype.toString.call(a))this.clientInterfaceAdapter(e,t,a);else if("[object Function]"===Object.prototype.toString.call(a)){const i=n(32);this.callbackMap[i]=a,this.clientInterfaceAdapter(e,t,{},i)}else console.warn(`[jsBridge] 错误的参数类型：${a}，仅能传入键值对对象或者函数`),this.clientInterfaceAdapter(e,t);else this.clientInterfaceAdapter(e,t)}_receiveClientEvent(e,t){this.eventMap[e]&&this.eventMap[e].forEach((e=>e(void 0)))}_setBridgeReady(){this.isReady=!0,this.listenReadyFn.forEach((e=>e())),this.listenReadyFn.clear()}}{constructor(){super()}clientInterfaceAdapter(e,t,a,n){window.senguoBridge.sendEvent(JSON.stringify({target:e,action:t,params:a,callbackName:n}))}};return t.default}()}));